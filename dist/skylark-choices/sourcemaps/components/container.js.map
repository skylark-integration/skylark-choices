{"version":3,"sources":["components/container.js"],"names":["define","utils","constants","[object Object]","element","type","classNames","position","this","isOpen","isFlipped","isFocussed","isDisabled","isLoading","_onFocus","bind","_onBlur","addEventListener","removeEventListener","dropdownPos","shouldFlip","window","matchMedia","matches","activeDescendantID","setAttribute","removeAttribute","classList","add","openState","flippedState","remove","removeActiveDescendant","focus","focusState","disabledState","SELECT_ONE_TYPE","wrap","parentNode","insertBefore","removeChild","loadingState"],"mappings":";;;;;;;AAAAA,QACI,eACA,gBACD,SAAUC,EAAOC,GAChB,aACA,aACIC,aAAYC,QAACA,EAAOC,KAAEA,EAAIC,WAAEA,EAAUC,SAAEA,IACpCC,KAAKJ,QAAUA,EACfI,KAAKF,WAAaA,EAClBE,KAAKH,KAAOA,EACZG,KAAKD,SAAWA,EAChBC,KAAKC,QAAS,EACdD,KAAKE,WAAY,EACjBF,KAAKG,YAAa,EAClBH,KAAKI,YAAa,EAClBJ,KAAKK,WAAY,EACjBL,KAAKM,SAAWN,KAAKM,SAASC,KAAKP,MACnCA,KAAKQ,QAAUR,KAAKQ,QAAQD,KAAKP,MAErCL,oBACIK,KAAKJ,QAAQa,iBAAiB,QAAST,KAAKM,UAC5CN,KAAKJ,QAAQa,iBAAiB,OAAQT,KAAKQ,SAE/Cb,uBACIK,KAAKJ,QAAQc,oBAAoB,QAASV,KAAKM,UAC/CN,KAAKJ,QAAQc,oBAAoB,OAAQV,KAAKQ,SAElDb,WAAWgB,GACP,GAA2B,iBAAhBA,EACP,OAAO,EAEX,IAAIC,GAAa,EAMjB,MALsB,SAAlBZ,KAAKD,SACLa,GAAcC,OAAOC,2BAA4BH,EAAc,QAASI,QAC/C,QAAlBf,KAAKD,WACZa,GAAa,GAEVA,EAEXjB,oBAAoBqB,GAChBhB,KAAKJ,QAAQqB,aAAa,wBAAyBD,GAEvDrB,yBACIK,KAAKJ,QAAQsB,gBAAgB,yBAEjCvB,KAAKgB,GACDX,KAAKJ,QAAQuB,UAAUC,IAAIpB,KAAKF,WAAWuB,WAC3CrB,KAAKJ,QAAQqB,aAAa,gBAAiB,QAC3CjB,KAAKC,QAAS,EACVD,KAAKY,WAAWD,KAChBX,KAAKJ,QAAQuB,UAAUC,IAAIpB,KAAKF,WAAWwB,cAC3CtB,KAAKE,WAAY,GAGzBP,QACIK,KAAKJ,QAAQuB,UAAUI,OAAOvB,KAAKF,WAAWuB,WAC9CrB,KAAKJ,QAAQqB,aAAa,gBAAiB,SAC3CjB,KAAKwB,yBACLxB,KAAKC,QAAS,EACVD,KAAKE,YACLF,KAAKJ,QAAQuB,UAAUI,OAAOvB,KAAKF,WAAWwB,cAC9CtB,KAAKE,WAAY,GAGzBP,QACSK,KAAKG,YACNH,KAAKJ,QAAQ6B,QAGrB9B,gBACIK,KAAKJ,QAAQuB,UAAUC,IAAIpB,KAAKF,WAAW4B,YAE/C/B,mBACIK,KAAKJ,QAAQuB,UAAUI,OAAOvB,KAAKF,WAAW4B,YAElD/B,SACIK,KAAKJ,QAAQuB,UAAUI,OAAOvB,KAAKF,WAAW6B,eAC9C3B,KAAKJ,QAAQsB,gBAAgB,iBACzBlB,KAAKH,OAASH,EAAUkC,iBACxB5B,KAAKJ,QAAQqB,aAAa,WAAY,KAE1CjB,KAAKI,YAAa,EAEtBT,UACIK,KAAKJ,QAAQuB,UAAUC,IAAIpB,KAAKF,WAAW6B,eAC3C3B,KAAKJ,QAAQqB,aAAa,gBAAiB,QACvCjB,KAAKH,OAASH,EAAUkC,iBACxB5B,KAAKJ,QAAQqB,aAAa,WAAY,MAE1CjB,KAAKI,YAAa,EAEtBT,KAAKC,GACDH,EAAMoC,KAAKjC,EAASI,KAAKJ,SAE7BD,OAAOC,GACHI,KAAKJ,QAAQkC,WAAWC,aAAanC,EAASI,KAAKJ,SACnDI,KAAKJ,QAAQkC,WAAWE,YAAYhC,KAAKJ,SAE7CD,kBACIK,KAAKJ,QAAQuB,UAAUC,IAAIpB,KAAKF,WAAWmC,cAC3CjC,KAAKJ,QAAQqB,aAAa,YAAa,QACvCjB,KAAKK,WAAY,EAErBV,qBACIK,KAAKJ,QAAQuB,UAAUI,OAAOvB,KAAKF,WAAWmC,cAC9CjC,KAAKJ,QAAQsB,gBAAgB,aAC7BlB,KAAKK,WAAY,EAErBV,WACIK,KAAKG,YAAa,EAEtBR,UACIK,KAAKG,YAAa","file":"../../components/container.js","sourcesContent":["define([\n    '../lib/utils',\n    '../constants'\n], function (utils, constants) {\n    'use strict';\n    return class Container {\n        constructor({element, type, classNames, position}) {\n            this.element = element;\n            this.classNames = classNames;\n            this.type = type;\n            this.position = position;\n            this.isOpen = false;\n            this.isFlipped = false;\n            this.isFocussed = false;\n            this.isDisabled = false;\n            this.isLoading = false;\n            this._onFocus = this._onFocus.bind(this);\n            this._onBlur = this._onBlur.bind(this);\n        }\n        addEventListeners() {\n            this.element.addEventListener('focus', this._onFocus);\n            this.element.addEventListener('blur', this._onBlur);\n        }\n        removeEventListeners() {\n            this.element.removeEventListener('focus', this._onFocus);\n            this.element.removeEventListener('blur', this._onBlur);\n        }\n        shouldFlip(dropdownPos) {\n            if (typeof dropdownPos !== 'number') {\n                return false;\n            }\n            let shouldFlip = false;\n            if (this.position === 'auto') {\n                shouldFlip = !window.matchMedia(`(min-height: ${ dropdownPos + 1 }px)`).matches;\n            } else if (this.position === 'top') {\n                shouldFlip = true;\n            }\n            return shouldFlip;\n        }\n        setActiveDescendant(activeDescendantID) {\n            this.element.setAttribute('aria-activedescendant', activeDescendantID);\n        }\n        removeActiveDescendant() {\n            this.element.removeAttribute('aria-activedescendant');\n        }\n        open(dropdownPos) {\n            this.element.classList.add(this.classNames.openState);\n            this.element.setAttribute('aria-expanded', 'true');\n            this.isOpen = true;\n            if (this.shouldFlip(dropdownPos)) {\n                this.element.classList.add(this.classNames.flippedState);\n                this.isFlipped = true;\n            }\n        }\n        close() {\n            this.element.classList.remove(this.classNames.openState);\n            this.element.setAttribute('aria-expanded', 'false');\n            this.removeActiveDescendant();\n            this.isOpen = false;\n            if (this.isFlipped) {\n                this.element.classList.remove(this.classNames.flippedState);\n                this.isFlipped = false;\n            }\n        }\n        focus() {\n            if (!this.isFocussed) {\n                this.element.focus();\n            }\n        }\n        addFocusState() {\n            this.element.classList.add(this.classNames.focusState);\n        }\n        removeFocusState() {\n            this.element.classList.remove(this.classNames.focusState);\n        }\n        enable() {\n            this.element.classList.remove(this.classNames.disabledState);\n            this.element.removeAttribute('aria-disabled');\n            if (this.type === constants.SELECT_ONE_TYPE) {\n                this.element.setAttribute('tabindex', '0');\n            }\n            this.isDisabled = false;\n        }\n        disable() {\n            this.element.classList.add(this.classNames.disabledState);\n            this.element.setAttribute('aria-disabled', 'true');\n            if (this.type === constants.SELECT_ONE_TYPE) {\n                this.element.setAttribute('tabindex', '-1');\n            }\n            this.isDisabled = true;\n        }\n        wrap(element) {\n            utils.wrap(element, this.element);\n        }\n        unwrap(element) {\n            this.element.parentNode.insertBefore(element, this.element);\n            this.element.parentNode.removeChild(this.element);\n        }\n        addLoadingState() {\n            this.element.classList.add(this.classNames.loadingState);\n            this.element.setAttribute('aria-busy', 'true');\n            this.isLoading = true;\n        }\n        removeLoadingState() {\n            this.element.classList.remove(this.classNames.loadingState);\n            this.element.removeAttribute('aria-busy');\n            this.isLoading = false;\n        }\n        _onFocus() {\n            this.isFocussed = true;\n        }\n        _onBlur() {\n            this.isFocussed = false;\n        }\n    };\n});"]}